# Діаграма прецедентів

@startuml

actor "Administrator" as Administrator
actor "Editor" as Editor
actor "User" as User

usecase "<b>ADM_1</b>\nКерувати текстовими файлами" as ADM_1
usecase "<b>ADM_2</b>\nКерувати редакторами\n та редагуванням" as ADM_2

Administrator -r-> ADM_2
Administrator -r-> ADM_1

usecase "<b>EDITOR_1</b>\nСтворювати та редагувати\n розмітку даних" as EDITOR_1

Editor -r-> EDITOR_1

usecase "<b>USER_1</b>\nРеєструватися та авторизуватися\n в системі" as USER_1
usecase "<b>USER_2</b>\nШукати, переглядати\n та завантажувати файли з сервера" as USER_2
usecase "<b>USER_3</b>\nПодавати запит на\n права редактора" as USER_3

User -r-> USER_3
User -r-> USER_2
User -r-> USER_1


Administrator -d-|> Editor
Editor -d-|> User

@enduml

## Схеми використання для користувача

@startuml

actor "User" as User

usecase "<b>USER_1</b>\nРеєструватися та\n авторизуватися у системі" as USER_1 #91FF5B
usecase "<b>USER_2</b>\nШукати, переглядати\n та завантажувати файли з сервера" as USER_2 #91FF5B
usecase "<b>USER_3</b>\nПодавати запит на\n право редагування" as USER_3 #91FF5B

User -l-> USER_1
User -r-> USER_2
User -d-> USER_3

usecase "<b>USER.REG</b>\nРеєстрація в системі" as USER.REG
usecase "<b>USER.LOG</b>\nАвторизація користувача\n в системі" as USER.LOG

USER.REG ..> USER_1 :extends
USER.LOG ..> USER_1 :extends

usecase "<b>USER.D_SRCH</b>\nЗапит на пошук даних" as USER.D_SRCH

USER.D_SRCH ..> USER_2 :extends

usecase "<b>USER.EDIT_RQST</b>\nЗапит на право\n редагування" as USER.EDIT_RQST

USER.EDIT_RQST ..> USER_3 :extends

@enduml

## Сценарії використання для користувача


***ID:*** USER.REG

***НАЗВА:*** Реєстрація в системі

***УЧАСНИКИ:*** Користувач, Система

***ПЕРЕДУМОВИ:*** Користувач не зареєстрований у системі

***РЕЗУЛЬТАТ:*** Новий обліковий запис

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Відхилення запиту на реєстрацію (USER.REG_DENY)

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml

|Користувач|
    start
    :Вводить реєстраційні дані;



|Система|
    :Перевіряє передані реєстраційні данія;
note right #ffaaaa
    <b>Можлива</b>
    <b>USER.REG_DENY</b>
    end note



    :Cтворює новий обліковий запис, використовуючи введені дані;

    :Надає користувачу інформацію про створення облікового запису;
|Користувач|           
    :Завершує взаємодію з системою;

    stop;
@enduml

***ID:*** USER.LOG

***НАЗВА:*** Авторизація користувача в системі

***УЧАСНИКИ:*** Користувач, Система

***ПЕРЕДУМОВИ:***  1. Користувач не зареєстрований у системі 
                   2. Користувач не зареєстрований у системі

***РЕЗУЛЬТАТ:*** Авторизація в системі

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Такого користуавача не існує (USER.LOG_DENY)

***ОСНОВНИЙ СЦЕНАРІЙ:***


@startuml

|Користувач|
    start
    :Вводить авторизаційні дані;



|Система|
    : Ідентифікує користувача;
note right #ffaaaa
    <b>Можлива</b>
    <b>USER.LOG_DENYY</b>
    end note



    :Авторизує користувача;

    :Надає користувачу авторизацію у системі;
|Користувач|           
    :Завершує взаємодію з системою;

    stop;
@enduml


***ID:*** USER.D_SRCH

***НАЗВА:*** Користувач надає запит на знаходження тексту

***УЧАСНИКИ:*** Користувач, Система

***ПЕРЕДУМОВИ:***  Користувач авторизований в системі

***РЕЗУЛЬТАТ:*** Дані знайдено і виведено на екран користувача

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Відхилення запиту користувача на пошук даних (RQS.DENY)

***ОСНОВНИЙ СЦЕНАРІЙ:***


@startuml

|Користувач|
    start
    :Відправляє запит на пошук;



|Система|
    : Виводить форму для заповнення користувачем;






    :Надає користувачу авторизацію у системі;
|Користувач|           
    :Користувач заповнює форму;

|Система|
    : Проводить пошук по базам даних заданих ресурсів;
note right #ffaaaa
    <b>Можлива</b>
    <b>RQS.DENY</b>
    end note

|Система|
    : Виводить результат на екран користувача;
    stop;
@enduml

***ID:*** USER.EDIT_RQST

***НАЗВА:*** Користувач надає запит на право редагування тексту

***УЧАСНИКИ:*** Користувач, Система, Адміністратор

***ПЕРЕДУМОВИ:***  Користувач авторизований в системі

***РЕЗУЛЬТАТ:*** Користувач отримав права редактора

***ВИКЛЮЧНІ СИТУАЦІЇ:***  1. Адміністратор відхилив запит (ADM.RQS.DENY)
                          2. Максимальна кількість редакторів досягнута (MAX.EDIT.REACHED)

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml

|Користувач|
    start
    :Відправляє запит на редагування;



|Система|
    : Передає запит адміністратору;


|Адміністратор|
    : Приймає або відхиляє запит;

    note right #ffaaaa
    <b>Можлива</b>
    <b>ADM.RQS.DENY</b>
    <b>MAX.EDIT.REACHED</b>
    end note



    stop;
@enduml

## Сценарії використання для редактора


***ID:*** EDITOR.TXT_ANNOTATION_CHNG

***НАЗВА:*** Редагування розмітки

***УЧАСНИКИ:*** Користувач, Адміністратор, Система

***ПЕРЕДУМОВИ:***  	Користувач отримав право редагуванняі

***РЕЗУЛЬТАТ:*** Запит на змінення розмітки файлу до адміністратора

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Відхилення запиту користувача на пошук даних (RQS.DENY)

***ОСНОВНИЙ СЦЕНАРІЙ:***


@startuml

|Користувач + Система|
    start
    :Користувач робить розмітку тексту в редакторі;





|Користувач|
    : Відправляє адміністратору запит на затвердження змін;

    note right #ffaaaa
    <b>Можлива</b>
    <b>ADM.RQS.DENY</b>
    end note



    stop;
@enduml

## Сценарії використання для адміністратора

***ID:*** ADM.FILE_UPLOAD

***НАЗВА:*** Завантажити текстовий файл в систему

***УЧАСНИКИ:*** Адміністратор, Система

***ПЕРЕДУМОВИ:*** Адміністратор Авторизувався в системі

****РЕЗУЛЬТАТ:*** Файл завантажено у систему

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Відхилення запиту адміністратора на завантаження файлу (RQS.FILE_UPLOAD_DENY)

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml


|#FF4F00|Адміністратор|
  start
    :Адміністратор обирає файл для завантаження;
|#FFA500|Адміністратор + Система|
  :Адміністратор надсилає запит системі на завантаження файлу;

  note right #ffaaaa
  <b>Можлива</b>
  <b>RQS.FILE_UPLOAD_DENY</b>
  end note

|Адміністратор|
  :Отримує доступ на завантаження файлу;
  stop;

@enduml

***ID:*** ADM.ADD_EDITOR

***НАЗВА:*** Додати редактора файлу

***УЧАСНИКИ:*** Адміністратор, Система, Користувач

***ПЕРЕДУМОВИ:***  Адміністратор отримав запит на редагування

***РЕЗУЛЬТАТ:*** Нового редактора додано

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Максимальна кількість редакторів досягнута (MAX.EDIT.REACHED)

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml


|#FF4F00|Користувач|
  start
  :Надсилає запит на право редагування;
|#FFA500|Система|
  :Передає запит адміністратору;
|#FF7518|Адміністратор|
  :Переглядає запит на редагування;
  :Приймає або відхиляє запит;
|Система|
  :Отримує результат;
  note right #ffaaaa
  <b>Можлива</b>
  <b>MAX.EDIT.REACHED</b>
   end note
  :Надає право на редагування;
|Користувач|
  :Отримує доступ на редагування;
  stop;
@enduml


***ID:*** ADM.DELETE_EDITOR

***НАЗВА:*** Прибрати редактора файлу

***УЧАСНИКИ:*** Адміністратор, Система, Редактор

***ПЕРЕДУМОВИ:*** У файла є редактор

***РЕЗУЛЬТАТ:*** Редактор вилучено

***ВИКЛЮЧНІ СИТУАЦІЇ:*** -

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml


|#FF4F00|Адміністратор|
  start
  :Адміністратор обирає редактора;
|#FFA500|Адміністратор|
  :Адміністратор надсилає запит на видалення редактора;
|#FF7518|Система|
  :Система видаляє редактора;
|Система|
  :Система надсилає редактору повідомлення про його видалення;
|#FFA500|Редактор|
  :Отримує повідомлення про видалення;
  stop;
@enduml


***ID:*** ADM.DELETE_EDITOR

***НАЗВА:*** Прибрати редактора файлу

***УЧАСНИКИ:*** ААдміністратор, Система, Редактор

***ПЕРЕДУМОВИ:*** У файла є редактор

***РЕЗУЛЬТАТ:*** Редактор вилучено

***ВИКЛЮЧНІ СИТУАЦІЇ:*** -

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml

|#FF4F00|Адміністратор|
  start
  :Адміністратор обирає редактора;
|#FFA500|Адміністратор|
  :Адміністратор надсилає запит на видалення редактора;
|#FF7518|Система|
  :Система видаляє редактора;
|Система|
  :Система надсилає редактору повідомлення про його видалення;
|#FFA500|Редактор|
  :Отримує повідомлення про видалення;
  stop;
@enduml

***ID:*** ADM.FILE_DELETE

***НАЗВА:*** Видалити текстовий файл з системи

***УЧАСНИКИ:*** Адміністратор, Система

***ПЕРЕДУМОВИ:*** Адміністратор Авторизувався в системі

***РЕЗУЛЬТАТ:*** Файл видалено

***ВИКЛЮЧНІ СИТУАЦІЇ:*** Файл не існує (RQS.FILE_NOT_EXIST)

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml


|#FF4F00|Адміністратор|
  start
  :Адміністратор обирає файл для видалення;
|#FFA500|Адміністратор + Система|
  :Адміністратор надсилає запит системі на видалення файлу;
  note right #ffaaaa
  <b>Можлива</b>
  <b>RQS.FILE_NOT_EXIST</b>
  end note
|Адміністратор|
  :Отримує доступ на видалення файлу;
  stop;
@enduml


***ID:*** ADM.ADMT_TXT_ANNOTATION_CHNG

***НАЗВА:*** Змінити розмітку даних

***УЧАСНИКИ:*** Адміністратор, Редактор, Система

***ПЕРЕДУМОВИ:*** Редактор відправляє адміністратору запит на затвердження змін розмітки даних

***РЕЗУЛЬТАТ:*** Приймаються зміни до розмітки даних

***ВИКЛЮЧНІ СИТУАЦІЇ:*** -

***ОСНОВНИЙ СЦЕНАРІЙ:***
  
@startuml


|#FF4F00|Редактор|
  start
  :Надсилає запит на зміну розмітки даних;
|#FFA500|Система|
  :Передає запит адміністратору;
|#FF7518|Адміністратор|
  :Переглядає запит;
  :Приймає або відхиляє зміни розмітки даних;
|Система|
  :Отримує результат;
  :Змінює розмітку даних;
|Редактор|
  :Отримує результат;
stop;

@enduml
  

***ID:*** ADM.VIEW_HISTORY

***НАЗВА:*** Переглянути історію змін файлу

***УЧАСНИКИ:*** Адміністратор, Система

***ПЕРЕДУМОВИ:*** Адміністратор Авторизувався в системі

***РЕЗУЛЬТАТ:*** Система надала адміністратору доступ до історії змін

***ВИКЛЮЧНІ СИТУАЦІЇ:*** -

***ОСНОВНИЙ СЦЕНАРІЙ:***


@startuml


|#FFA500|Адміністратор|
  start
  :Надсилає запит на перегляд історії змін;
|#FF4F00|Система|
  :Виводить історію змін файлу;
|Адміністратор|
  :Отримує доступ до історії змін;
  stop;
  
@enduml

***ID:*** ADM.VIEW_BRANCH

***НАЗВА:*** Переглянути гілку змін файлу

***УЧАСНИКИ:*** Адміністратор, Система

***ПЕРЕДУМОВИ:*** Адміністратор Авторизувався в системі

***РЕЗУЛЬТАТ:*** Система надала адміністратору доступ до історії змін певного редактора

***ВИКЛЮЧНІ СИТУАЦІЇ:*** -

***ОСНОВНИЙ СЦЕНАРІЙ:***
  
@startuml


|#FFA500|Адміністратор|
  start
  :Обирає редактора;
  :Надсилає запит на перегляд гілки змін обраного редактора;
|#FF4F00|Система|
  :Виводить гілку змін файлу;
|Адміністратор|
  :Переглядає гілку змін файлу;
  stop;
  
@enduml

***ID:*** ADM.ADMT_TXT_ANNOTATION_FINAL

***НАЗВА:*** Завершити розмітку даних

***УЧАСНИКИ:*** Адміністратор, Система

***ПЕРЕДУМОВИ:*** Файл повністю анотовано

***РЕЗУЛЬТАТ:*** Анотований файл готовий до завантаження

***ВИКЛЮЧНІ СИТУАЦІЇ:*** -

***ОСНОВНИЙ СЦЕНАРІЙ:***

@startuml


|#FFA500|Адміністратор|
  start
:Відправляє запит на завершення редагування;
  |#FF4F00|Система|
:Формує вихідний файл;
  |Адміністратор|
  :Завершує редагування;
  stop;
@enduml
